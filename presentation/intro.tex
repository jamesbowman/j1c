\documentclass[compress,mathserif]{beamer}
\usetheme{naked}
\usecolortheme{dark}
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{bytefield}
\usetikzlibrary{arrows,shapes}

\newcommand{\mach}[1]{\texttt{\textbf{#1}}}
\newcommand{\itwoc}{I$^{\text{2}}$C }

\begin{document}
\title{J1c}   
\author{James Bowman} 
\institute{Excamera Labs} 
\date{\today} 

\frame{\titlepage} 

\tikzset{every picture/.style={line width=1.0pt}}
\tikzstyle{data}=[draw, minimum size=2em]
\tikzstyle{process}=[shape=circle, text centered, text width=1.7cm, draw,minimum size=2em]
\everymath{\displaystyle}

\begin{imageframe}{timing.jpg}
  {\bf\Huge J1}
\end{imageframe}

\begin{frame}
\begin{itemize}
   \item Open source (BSD license)
   \item 200 lines of Verilog
   \item Targeted at FPGA
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item data stack, call/return stack
   \item single cycle execution
   \item explicit instruction coding
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item 16-bit instructions, 16-bit data
   \item stacks are 32 deep
   \item Von Neumann architecture
   \item I/O instructions
\end{itemize}
\end{frame}

\begin{imageframe}{1960s-photo-computer-room.jpg}
  {\bf\Huge Programming model}
\end{imageframe}

\begin{frame}
\begin{itemize}
   \item ANS Forth
   \item call+return is 1 word and 1 cycle, so \textit{factor}
   \item code usage is logarithmic
\end{itemize}
\end{frame}

% \begin{frame}[fragile]
% % \centerline{\includegraphics[width=0.5\textwidth]{simple}}
% \vskip1cm
% \footnotesize
% \begin{verbatim}
%     : 1+
%       1 +
%     ;
% 
%     : negate
%       invert 1+
%     ;
% 
%     : -
%       negate +
%     ;
% \end{verbatim}
% \end{frame}

\begin{imageframe}{pyramid.jpg}
\centerline{
  {instructions $\rightarrow$ ANS Forth $\rightarrow$ application}
  }
\end{imageframe}

\begin{frame}
% \centerline{\includegraphics[width=0.5\textwidth]{simple}}
\vskip1cm
\footnotesize
\begin{center}
\begin{tabular}{cc}
module & code words \\
\hline
Forth core & 80-250 \\
32-bit arithmetic & 52-166 \\
\itwoc & 66 \\
SPI & 52 \\
\end{tabular}
\end{center}
\end{frame}

\begin{imageframe}{6502}
  {\bf\Huge J1c}
\end{imageframe}

\begin{frame}
\begin{itemize}
   \item ASIC proven
   \item improved instruction encoding
   \item parameterized for data width 8-32, stack size
   \item async reset, DFT
   \item Harvard architecture, RAM and RAMless
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item Cross-compiler based on \mach{gforth}
   \item $<$ 1s build typical
   \item produces ROM image
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item FPGA-ready: Xilinx, Altera
   \item C simulator with hooks for I/O. $\sim$100 MHz
   \item option to compile ROM to C. $\sim$1 GHz
   \item code coverage tracing
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item Test suite for simulation: Icarus, Verilator
   \item ANS Forth test suite
   \item 100\% coverage
\end{itemize}
\end{frame}

\begin{imageframe}{custom.jpg}
  {\bf\LARGE custom ALU ops}
\end{imageframe}

\begin{frame}
\begin{itemize}
   \item multiply
   \item integer $\sin\theta$
   \item saturating arithmetic
   \item CRC-32
   \item I/O acceleration
\end{itemize}
\end{frame}

\begin{frame}
\begin{itemize}
   \item add to Verilog -- 16 unused slots
   \item add to \mach{basewords.fs}
   \item add to C simulator
   \item verify and use!
\end{itemize}
\end{frame}

\emptyslide

\end{document}

